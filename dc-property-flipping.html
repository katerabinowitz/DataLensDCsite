<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1" charset="utf-8">
  <title>Property Flipping in the District</title>

  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link href='http://fonts.googleapis.com/css?family=Neuton:400,700' rel='stylesheet' type='text/css'>

  <link href='./CSS/main.css' rel='stylesheet' type='text/css'>
  <link href='./CSS/prop-flip.css' rel='stylesheet' type='text/css'>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
  <script src="http://d3js.org/d3.v3.min.js"></script> 

  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDez_nj2eHP6b_mhMR1fn2Df2_jm-py41M"></script>
  <script src="./JS/propflip-maps.js"></script>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-65753381-1', 'auto');
  ga('send', 'pageview');

</script>
</head>

<body>
<body>
<nav class="xsheader navbar navbar-default navbar-static-top">
  <div class='clearfix xsheader'>      
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="mybar icon-bar"></span>
          <span class="mybar icon-bar"></span>
          <span class="mybar icon-bar"></span> 
        </button>
        <a class="navbar-brand" href="./index.html">
          <img src="./Images/DataLensDCResponsiveLogo2.png" alt="DataLensDC">  
        </a>
      <ul class="navbar-nav navbar-custom navbar-static-top navbar-collapse collapse dropdown-pull-right" id="main-navbar-custom">
        <li><a href="./about.html">About</a></li>
        <li><a href="./subscribe.html">Subscribe</a></li>
        <li><a href="./archive.html">Archive</a></li>
        <li class="dropdown"><a class="dropdown-toggle" href='#' data-toggle='dropdown'>Connect<span class='caret'></span></a>
          <ul class="navbar-custom dropmenu dropdown-menu dropdown-pull-right">
            <li><a href="mailto:datalensdc@gmail.com" target="_blank"> <i class="fa fa-envelope"></i> send an email</a></li>
            <li><a href="https://twitter.com/DataLensDC" target="_blank"><i class="fa fa-twitter"></i> tweet our way</a></li>
            <li><a href="https://github.com/katerabinowitz" target="_blank"><i class="fa fa-github"></i> git at us</a></li>
            <!-- <li><a href="https://www.linkedin.com/pub/kate-rabinowitz/3b/b30/168" target="_blank"><i class="fa fa-linkedin"></i> link up</a></li>  -->     
          </ul>
        </li>
      </ul>
  </div>
</nav>
  <div class="navbar-fixed">

<nav class="smheader navbar navbar-default navbar-static-top">
<a href="./index.html"><img class="logo" src="./Images/DataLensDC logo.png" alt="DataLensDC"></a>
    <ul class ="headerlist">
        <li><a href="./about.html">about</a></li>
        <li><a href="./subscribe.html">subscribe</a></li>
        <li><a href="mailto:datalensdc@gmail.com">email</a></li>
    </ul>
  </div>
</nav>

<div class='content row'>
  <div class='col-sm-9 col-xs-12'>
  <br>
    <h2><a href='./property-flipping.html'>Mapping the Most Flipped Hoods in the District</a></h2>
    <hr id='top-line'>
    <h3> Kate Rabinowitz // October 19, 2015 </h3>
    <p class="content"> Just because I'm not in the market for a home doesn't mean I don't show up to open houses like I have hundreds of thousands to drop. The more open houses I go to, the more trends appear: everything is shiny, new and well placed in an open floor layout; there's a half bath squeezed under the stairs; the bathroom has modern sink no one can wash their face in. Many of these homes have been flipped, a common sight on the hot DC real estate market. House flipping is when a house is bought as a real estate investment, remodeled, and put back on the market at a substantially higher price.<br><br>On a larger scale, flipped homes can alter a real estate market, creating a scarcity of fixer-uppers and an abundance of all-cash deals. It can also be a sign of a changing community. Curious about how home flipping looked from a birds eye view, I mapped flipped homes as a proportion of single family home sales in neighborhoods across the District.</p> 
    <div class="btn-content">
    <input type="button" name="2013-2015" value="2013-2015" onclick="show2013()" class="updatebtn"/>
    <input type="button" name="2011-2015" value="2011-2015" onclick="show2011()" class="updatebtn"/>
    </div>
    <script>
    function show2013() {
    $("#long-history-map").hide();
   document.getElementById('short-history-map').style.display = "block";
   var center = ShortmapFlip.getCenter(); 
   google.maps.event.trigger(ShortmapFlip, 'resize'); 
   ShortmapFlip.setCenter(center);
    }
    function show2011() {
    $("#short-history-map").hide();
   document.getElementById('long-history-map').style.display = "block";
   google.maps.event.trigger(mapFlip, 'resize')
    }
    </script>
    <div id="long-history-map">
        <p class="graph-title">Flipped Property Sales Transactions, as Percent of Single Family Home Sales (May 2011-September 2015)</p>
        <p class='graph-subtitle'>Darker green indicates greater proportion of flipped homes. Click on a neighborhood for more detail.</p>
        <div id ="map-flip" class="content"><br></div>
        <p class='graph-subtitle'> Note: Data before 2013 is unavailable for select zip codes, which have been excluded from this map. View the 2013-15 map for a more complete, albeit shorter, picture.<br>Source: MRIS, provided by Kevin Wood to PoPville. There is no data for gray areas.</p>
    </div>

    <div id="short-history-map" style="display:none;">
        <p class="graph-title">Flipped Property Sales Transactions, as Percent of Single Family Home Sales (October 2013-September 2015)</p>
        <p class='graph-subtitle'>Darker green indicates greater proportion of flipped homes. Click on a neighborhood for more detail.</p>
        <div id ="short-map-flip" class="content"><br></div>
        <p class='graph-subtitle'> Source: MRIS, provided by Kevin Wood to PoPville</p>
    </div>

    <p class="content">The geography of flipped housing skews east in the District, and the more recent map suggests it is moving increasingly eastward. This makes sense as the city's wealthiest properties have historically been located in the most northern and western corners. Many of DC's recent 'up-and-came' neighborhoods, Columbia Heights, Shaw, H St, and Logan Circle, have lower rates of home flipping but are surrounded by flipping booms to the north and east. Hotspots can be seen east of H St, north of Columbia Heights and east of Shaw. So what are the most house-flipped neighborhoods?</p>
    <div class="btn-content">
    <input type="button" name="Top2013" value="2013-2015" onclick="Top2013()" class="updatebtn"/>
    <input type="button" name="Top2011" value="2011-2015" onclick="Top2011()" class="updatebtn"/>
    </div>
    <script>
    function Top2013() {
    $("#flip2011").hide();
    $("#flip2013").show();
      }
    function Top2011() {
    $("#flip2013").hide();
    $("#flip2011").show();
      }
    </script>

    <div id="flip2011">
    <p class='graph-title'>Flipped Property Sales Transactions, as Percent of Single Family Home Sales</p>
    <p class='graph-subtitle'> Subtitle</p>
      <svg class="flip1"></svg>
      <script type="text/javascript">
      var chartWidth       = 350,
        barHeight        = 20,
        gapBetweenGroups = 40,
        spaceForLabels   = 100;

      var x = d3.scale.linear()
        .range([0, chartWidth]);

      d3.csv("https://raw.githubusercontent.com/katerabinowitz/Prop-Flip-Analysis/master/fullFlipHistory.csv", type, function(error, data) {
          x.domain([0, d3.max(data, function(d) { return d.flipProp; })]);

      var chartHeight = barHeight * data.length;

      var y = d3.scale.linear()
        .range([chartHeight + gapBetweenGroups, 0]);

      var yAxis = d3.svg.axis()
        .scale(y)
        .tickFormat('')
        .tickSize(0)
        .orient("left");
// Specify the chart area and dimensions
      var flip1 = d3.select(".flip1")
        .attr("width", spaceForLabels + chartWidth)
        .attr("height", chartHeight);
// Create bars
    var bar = flip1.selectAll("g")
        .data(data)
        .enter().append("g")
        .attr("transform", function(d, i) {
        return "translate(" + spaceForLabels + "," + (i * barHeight + gapBetweenGroups * (0.5 + Math.floor(i/data.length))) + ")";
    });
// Create rectangles of the correct width
    bar.append("rect")
      .attr("class", "bar")
      .attr("width", function(d) { return x(d.flipProp); })
      .attr("height", barHeight - 1);
// Add text label in bar
    bar.append("text")
      .attr("x", function(d) { return x(d.flipProp-3); })
      .attr("y", barHeight / 2)
      .attr("dy", ".35em")
        .text(function(d) { return (d.flipPropPer); });
// Draw labels
    bar.append("text")
      .attr("class", "label")
      .attr("x", function(d) {return - 100; })
      .attr("y", barHeight/2)
      .attr("dy", ".1em")
      .text(function(d) { return d.subhood; });

    flip1.append("g")
      .attr("class", "y axis")
      .attr("transform", "translate(" + spaceForLabels + ", " + -gapBetweenGroups/2 + ")")
      .call(yAxis);
    });

    function type(d) {
      d.flipProp = +d.flipProp; // coerce to number
    return d;
    }
    </script>
    <p class='graph-subtitle'>Source: MRIS, provided by Kevin Wood to PoPville.</p>
    </div>

    <div id="flip2013" style="display:none;">
    <p class='graph-title'>Flipped Property Sales Transactions, as Percent of Single Family Home Sales</p>
    <p class='graph-subtitle'> Subtitle</p>
      <svg class="flip2"></svg>
      <script type="text/javascript">
      var chartWidth       = 350,
        barHeight        = 20,
        gapBetweenGroups = 40,
        spaceForLabels   = 100;

      var x = d3.scale.linear()
        .range([0, chartWidth]);

      d3.csv("https://raw.githubusercontent.com/katerabinowitz/Prop-Flip-Analysis/master/shorterHistory.csv", type, function(error, data) {
          x.domain([0, d3.max(data, function(d) { return d.flipProp; })]);

      var chartHeight = barHeight * data.length;

      var y = d3.scale.linear()
        .range([chartHeight + gapBetweenGroups, 0]);

      var yAxis = d3.svg.axis()
        .scale(y)
        .tickFormat('')
        .tickSize(0)
        .orient("left");
// Specify the chart area and dimensions
      var flip2 = d3.select(".flip2")
        .attr("width", spaceForLabels + chartWidth)
        .attr("height", chartHeight);
// Create bars
    var bar = flip2.selectAll("g")
        .data(data)
        .enter().append("g")
        .attr("transform", function(d, i) {
        return "translate(" + spaceForLabels + "," + (i * barHeight + gapBetweenGroups * (0.5 + Math.floor(i/data.length))) + ")";
    });
// Create rectangles of the correct width
    bar.append("rect")
      .attr("class", "bar")
      .attr("width", function(d) { return x(d.flipProp); })
      .attr("height", barHeight - 1);
// Add text label in bar
    bar.append("text")
      .attr("x", function(d) { return x(d.flipProp-3); })
      .attr("y", barHeight / 2)
      .attr("dy", ".35em")
        .text(function(d) { return (d.flipPropPer); });
// Draw labels
    bar.append("text")
      .attr("class", "label")
      .attr("x", function(d) {return - 100; })
      .attr("y", barHeight/2)
      .attr("dy", ".1em")
      .text(function(d) { return d.subhood; });

    flip2.append("g")
      .attr("class", "y axis")
      .attr("transform", "translate(" + spaceForLabels + ", " + -gapBetweenGroups/2 + ")")
      .call(yAxis);
    });

    function type(d) {
      d.flipProp = +d.flipProp; // coerce to number
    return d;
    }
    </script>
    <p class='graph-subtitle'>Source: MRIS, provided by Kevin Wood to PoPville.</p>
    </div>
    <p class="content">For the most flipped neighborhoods in the District, the proportion of flipped homes on the market is staggering. In XYZ more than one in every five homes on the sales market has been flipped. Largely in the east of the city, while these neighborhoods don't cluster in a specific area they all have in common a <a class="link" target="_blank" href="http://www.washingtonpost.com/realestate/where-we-live-truxton-circle-changing-fast--too-fast-for-some/2014/09/25/49bde166-3ab8-11e4-9c9f-ebb47272e40e_story.html">high </a><a class="link" target="_blank" href="http://wamu.org/programs/metro_connection/15/03/06/dc_residents_work_to_keep_the_reins_as_woodridge_neighborhood_changes">rate</a> <a class="link" target="_blank" href="http://www.washingtonpost.com/realestate/neighborhood-profile-brightwood-park-balancing-history-with-a-boomlet/2014/02/06/8f481fb8-883d-11e3-a5bd-844629433ba3_story.html">of</a> <a class="link" target="_blank" href="http://www.washingtonpost.com/realestate/where-we-live-edgewood-still-affordable-but-newly-desirable/2015/07/23/8dde80a0-1f76-11e5-bf41-c23f5d3face1_story.html">change</a>.</p>
    <br>
    <hr id='end-line'>
    <p class='content'><b>Technical notes:</b> Graphics and rankings are based MRIS data reported monthly by Kevin Wood to PoPville. Select zip codes do not have data before October 2013 and were not included in the 2011-2015 graphics. Flips were defined as the following: (1) a single family home that was bought twice within a two year period, or (2) a single family home that was converted into condos with at least one condo sold within two years. Neighborhood map boundaries were supplied by <a class="link" target="_blank" href="http://opendatadc.org/dataset/neighborhood-boundaries-217-neighborhoods-washpost-justgrimes">Code for DC</a>. You can find complete code for this post<a class='link' target="_blank" href="https://github.com/katerabinowitz"> on my github page.</a></p>
    <br><br>
  </div>

<div class='col-sm-3 side'>
    <br> 
    <ul class="sidebar nav nav-stacked fixed">
        <li>Archive</li>
        <ul><ul class="nav nav-stacked fixed insidebar">
            <li><a href='./how-DC-spends.html'>How the DC Region Spends</a></li>
            <li><a href='./dc-hack-landmark.html'>DC Hack: Landmark</a></li>
            <li><a href='./DDD-in-DC.html'>What's Guy Fieri's Problem with DC?</a></li>
            <li><a href='./gentrification-by-numbers.html'>DC Gentrification by the Numbers</a></li>
            <li><a href='./farmers-mkt-per-capita.html'>DC #1 in Farmer's Markets per Capita</a></li>
            <li><a href='./10-year-dc-development.html'>DC Adding 15M+ Sq Ft in Next 10 Years</a></li>
            <li><a href='./your-commute-is-getting-worse.html'>Your Metro Commute is Getting Worse</a></li>
            <li><a href='./migration-comparison.html'>DC: The East Coast's Most Migratory City</a></li>
            <li><a href='./welcome-to-datalensdc.html'>Welcome to DataLensDC!</a></li>
        </ul></ul>
        <br>
        <li>Connect</li>  
        <ul><ul class="nav nav-stacked fixed connectbar">
              <li><a href="mailto:datalensdc@gmail.com" target="_blank"> <i class="fa fa-envelope"></i> send an email</a></li>
              <li><a href="https://twitter.com/DataLensDC" target="_blank"><i class="fa fa-twitter"></i> tweet our way</a></li>
              <li><a href="https://github.com/katerabinowitz" target="_blank"><i class="fa fa-github"></i> git at us</a></li>
              <!-- <li><a href="https://www.linkedin.com/pub/kate-rabinowitz/3b/b30/168" target="_blank"><i class="fa fa-linkedin"></i> link up</a></li> -->
          </ul></ul>
      </ul>
    </div>    
</div>
  </body>
</html>