<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1" charset="utf-8">
  <title>AirBnB in DC</title>

  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link href='http://fonts.googleapis.com/css?family=Neuton:400,700' rel='stylesheet' type='text/css'>

  <link href='./CSS/main.css' rel='stylesheet' type='text/css'>
  <link href='./CSS/air-bnb.css' rel='stylesheet' type='text/css'>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
  <script src="http://d3js.org/d3.v3.min.js"></script> 

  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDez_nj2eHP6b_mhMR1fn2Df2_jm-py41M"></script>
  <script src="./JS/bnb-hood-map.js"></script>

  <script src='https://api.mapbox.com/mapbox.js/v2.2.2/mapbox.js'></script>
  <link href='https://api.mapbox.com/mapbox.js/v2.2.2/mapbox.css' rel='stylesheet' />

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-65753381-1', 'auto');
  ga('send', 'pageview');

</script>
</head>

<body>
<body>
<nav class="xsheader navbar navbar-default navbar-static-top">
  <div class='clearfix xsheader'>      
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="mybar icon-bar"></span>
          <span class="mybar icon-bar"></span>
          <span class="mybar icon-bar"></span> 
        </button>
        <a class="navbar-brand" href="./index.html">
          <img src="./Images/DataLensDCResponsiveLogo2.png" alt="DataLensDC">  
        </a>
      <ul class="navbar-nav navbar-custom navbar-static-top navbar-collapse collapse dropdown-pull-right" id="main-navbar-custom">
        <li><a href="./about.html">About</a></li>
        <li><a href="./subscribe.html">Subscribe</a></li>
        <li><a href="./archive.html">Archive</a></li>
        <li class="dropdown"><a class="dropdown-toggle" href='#' data-toggle='dropdown'>Connect<span class='caret'></span></a>
          <ul class="navbar-custom dropmenu dropdown-menu dropdown-pull-right">
            <li><a href="mailto:datalensdc@gmail.com" target="_blank"> <i class="fa fa-envelope"></i> send an email</a></li>
            <li><a href="https://twitter.com/DataLensDC" target="_blank"><i class="fa fa-twitter"></i> tweet our way</a></li>
            <li><a href="https://github.com/katerabinowitz" target="_blank"><i class="fa fa-github"></i> git at us</a></li>
            <!-- <li><a href="https://www.linkedin.com/pub/kate-rabinowitz/3b/b30/168" target="_blank"><i class="fa fa-linkedin"></i> link up</a></li>  -->     
          </ul>
        </li>
      </ul>
  </div>
</nav>
  <div class="navbar-fixed">

<nav class="smheader navbar navbar-default navbar-static-top">
<a href="./index.html"><img class="logo" src="./Images/DataLensDC logo.png" alt="DataLensDC"></a>
    <ul class ="headerlist">
        <li><a href="./about.html">about</a></li>
        <li><a href="./subscribe.html">subscribe</a></li>
        <li><a href="mailto:datalensdc@gmail.com">email</a></li>
    </ul>
  </div>
</nav>

<div class='content row'>
  <div class='col-sm-9 col-xs-12'>
  <br>
    <h2><a href='./dc-property-flipping.html'>Does Airbnb Hurt the DC Rental Market?</a></h2>
    <hr id='top-line'>
    <h3> Kate Rabinowitz // November 11, 2015 </h3>
    <p class="content">Airbnb's $8 million lobbying effort to win at the San Francisco polls is just the beginning. The company announced today the <a class='link' href='http://publicpolicy.airbnb.com/' target='_blank'>100 City Public Policy Compact</a> to "use its experience in cities across the country to work with policymakers here in DC." Two proposals are in front of the City Council presently to curtail the company's reach in the District. Airbnb will likely be spending millions to fight accusations of raising rents, hurting businesses, disrupting neighborhoods, and facilitating the <a class='link' target="_blank" href="http://www.washingtonian.com/blogs/capitalcomment/local-news/dc-sues-owner-of-airbnb-rental-house-used-for-parties.php">occassional Ja Rule house party.</a><br><br>New data suggests D.C. is a hotbed for Airbnb; it is third in Airbnb listings per capita compared to other U.S. cities. The District has over 3,500 listings, of which 2,855 are active.</p> 

    <p class='graph-title'>Washington D.C. #3 in Airbnb Listings per Capita</p>
    <p class='graph-subtitle'> Number of Active Airbnb Listings per 1,000 people</p>
      <div id="rankbar">
      <svg class="rank"></svg>
      <script type="text/javascript">
      var chartWidth       = 350,
        barHeight        = 20,
        gapBetweenGroups = 40,
        spaceForLabels   = 80;

      var x = d3.scale.linear()
        .range([0, chartWidth]);

      d3.csv("https://raw.githubusercontent.com/katerabinowitz/Air-BnB/master/BnBPerCapita.csv", type, function(error, data) {
          x.domain([0, d3.max(data, function(d) { return d.Airpc; })]);

      var chartHeight = barHeight * 13;

      var y = d3.scale.linear()
        .range([chartHeight + gapBetweenGroups, 0]);

      var yAxis = d3.svg.axis()
        .scale(y)
        .tickFormat('')
        .tickSize(0)
        .orient("left");
// Specify the chart area and dimensions
      var rank = d3.select(".rank")
        .attr("width", spaceForLabels + chartWidth)
        .attr("height", chartHeight);
// Create bars
    var bar = rank.selectAll("g")
        .data(data)
        .enter().append("g")
        .attr("transform", function(d, i) {
        return "translate(" + spaceForLabels + "," + (i * barHeight + gapBetweenGroups * (0.5 + Math.floor(i/data.length))) + ")";
    });
// Create rectangles of the correct width
    bar.append("rect")
      .attr("class", "bar")
      .attr("width", function(d) { return x(d.Airpc); })
      .attr("height", barHeight - 1);
// Add text label in bar
    bar.append("text")
      .attr("x", function(d) { return x(d.Airpc-0.4); })
      .attr("y", barHeight / 2)
      .attr("dy", ".35em")
        .text(function(d) { return (d.Airpc.toFixed(2)); });
// Draw labels
    bar.append("text")
      .attr("class", "label")
      .attr("x", function(d) {return - 80; })
      .attr("y", barHeight/2)
      .attr("dy", ".1em")
      .text(function(d) { return d.city; });

    rank.append("g")
      .attr("class", "y axis")
      .attr("transform", "translate(" + spaceForLabels + ", " + -gapBetweenGroups/2 + ")")
      .call(yAxis);
    });

    function type(d) {
      d.Airpc = +d.Airpc; // coerce to number
    return d;
    }
    </script>
    <p class='graph-subtitle'> Source: InsideAirbnb, U.S. Census Population Estimates.</p>
  </div>
  <p class="content">While Airbnb listings average 4.33 per 1,000 people in the District, the rate varies drastically across neighborhoods. Active listings top 10 per 1,000 people around Dupont Circle, Capitol Hill, and Chinatown.</p>

    <p class='graph-title'>Airbnb Density Greatest in some of the District's Hottest Neighborhoods</p>
    <p class='graph-subtitle'> Number of Active Airbnb Listings per 1,000 people by Neighborhood Cluster</p>
    <p class='graph-subtitle'> Click on a neighborhood for more information on listings</p>
    <div class="bbmaps">
     <iframe width="80%" height="480" frameborder="0" src="https://datalensdc.cartodb.com/viz/cf969614-8820-11e5-adf8-0e8c56e2ffdb/embed_map" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>
     </div>
    <p class='graph-subtitle'>Source: InsideAirbnb, DC Office of Planning Neighborhood Clusters, U.S. Census</p>

    <p class="content">Opponents of Airbnb contest that the site provides an opportunity for people to list apartments or homes that otherwise would have been rented, putting pressure on already expensive rental market. With the average Airbnb listing priced at $161 per night for an entire property, which adds up to $4,830 a month, the monetary incentive is clear. But what does the data say?<br><br>Entire properties, as opposed to private or shared rooms, that are highly active often signal a listing being more than just the occassional vacation rental. Hosts with multiple Airbnb listings are also signs of commercial tourism properties. The graph below shows all active Airbnb listings, the percent that are entire properties and the percentage of those properties that are highly active.</p>

    <div class='stackchart'>
    <p class='graph-title'>A Third of Active Airbnb Listings Are More than Just Vacation Rentals</p>
    <p class='graph-subtitle'>Number of Airbnb listings</p>
        <svg class="schart"></svg>
<script>
(function() {
var margin = {top: 20, right: 0, bottom: 35, left: 35},
    width = 420 - margin.left - margin.right,
    height = 400 - margin.top - margin.bottom;

var x = d3.scale.ordinal()
    .rangeRoundBands([0, width], .2);

var y = d3.scale.linear()
    .rangeRound([height, 0]);

var color = d3.scale.ordinal()
    .range(["#8dd3c7", "#fdcdac"]);

var xAxis = d3.svg.axis()
    .scale(x)
    .orient("bottom");

var yAxis = d3.svg.axis()
    .scale(y)
    .orient("left")
    .tickFormat(d3.format(".2s"));

var schart = d3.select(".schart")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

d3.csv("https://raw.githubusercontent.com/katerabinowitz/Air-BnB/master/DCbnbOutput.csv", function(error, data) {
  if (error) throw error;

  color.domain(d3.keys(data[0]).filter(function(key) { return key !== "Type"; }));

  data.forEach(function(d) {
    var y0 = 0;
    d.list = color.domain().map(function(name) { return {name: name, y0: y0, y1: y0 += +d[name]}; });
    d.total = d.list[d.list.length - 1].y1;
  });

  x.domain(data.map(function(d) { return d.Type; }));
  y.domain([0, d3.max(data, function(d) { return d.total; })]);

  schart.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis);

  schart.append("g")
      .attr("class", "y axis")
      .call(yAxis);

  var type = schart.selectAll(".Type")
      .data(data)
    .enter().append("g")
      .attr("class", "g")
      .attr("transform", function(d) { return "translate(" + x(d.Type) + ",0)"; });

  type.selectAll("rect")
      .data(function(d) { return d.list; })
    .enter().append("rect")
      .attr("width", x.rangeBand())
      .attr("y", function(d) { return y(d.y1); })
      .attr("height", function(d) { return y(d.y0) - y(d.y1); })
      .style("fill", function(d) { return color(d.name); });

  var legend = schart.selectAll(".legend")
      .data(color.domain().slice().reverse())
    .enter().append("g")
      .attr("class", "legend")
      .attr("transform", function(d, i) { return "translate(0," + i * 20 + ")"; });

  legend.append("rect")
      .attr("x", width - 18)
      .attr("width", 18)
      .attr("height", 18)
      .style("fill", color);

  legend.append("text")
      .attr("x", width - 24)
      .attr("y", 11)
      .attr("dy", ".35em")
      .style("text-anchor", "end")
      .text(function(d) { return d; });

});
})();
</script>
</div>
<p class='graph-subtitle'>Source: InsideAirbnb</p>
<p class="content">One third of all Airbnb listings are run by hosts that have multiple listings. The majority of multi-listing hosts have two listings, though a handful have over 20 listings.<br><br>Nearly two-thirds of all active Airbnb listings are for the entire property. Of those properties, half are highly active with at least 90 estimated nights booked in the past year. These properties most likely serve solely as Airbnb listings and are off the market to DC renters. At just under a thousand, these highly active Airbnb properties will have at most a minimal effect on the rental market but are likely to worry the hotel industry. 
  <br><br>
  <hr id='end-line'>
  <p class='content'><b>Technical notes:</b> Airbnb data was provided through <a class='link' target="_blank" href="http://insideairbnb.com/">InsideAirbnb</a>. Listings per capita for cities were calculated using 2014 Census population estimates. The neighborhood level was calculated using the 2010 Census. Listings with at least one review since 2014 were considered active. Listings with more than 90 estimated nights booked in the last year were considered highly active. Estimates used InsideAirbnb assumptions of a 50% review rate and average stay of three nights. You can find complete code for this post<a class='link' target="_blank" href="https://github.com/katerabinowitz"> on my github page.</a></p>
  <br><br>
  </div>

<div class='col-sm-3 side'>
  <ul class="sidebar nav nav-stacked fixed">
    <br>
        <li>Recent</li>
        <ul><ul class="nav nav-stacked fixed insidebar">
            <li><a href='./dc-property-flipping.html'>The Most House-Flipped DC Neighborhoods</a></li>
            <li><a href='./how-DC-spends.html'>How the DC Region Spends</a></li>
            <li><a href='./dc-hack-landmark.html'>DC Hack: Landmark</a></li>
            <li><a href='./DDD-in-DC.html'>What's Guy Fieri's Problem with DC?</a></li>
            <li><a href='./gentrification-by-numbers.html'>DC Gentrification by the Numbers</a></li>
<!--             <li><a href='./farmers-mkt-per-capita.html'>DC #1 in Farmer's Markets per Capita</a></li>
            <li><a href='./10-year-dc-development.html'>DC Adding 15M+ Sq Ft in Next 10 Years</a></li>
            <li><a href='./your-commute-is-getting-worse.html'>Your Metro Commute is Getting Worse</a></li>
            <li><a href='./migration-comparison.html'>DC: The East Coast's Most Migratory City</a></li>
            <li><a href='./welcome-to-datalensdc.html'>Welcome to DataLensDC!</a></li> -->
        </ul></ul> 
        <li class="archiveside"><a href="./archive.html"><p style="margin-left:15px">Archive</p></a></li>
        <br>
        <li>Connect</li>  
        <ul><ul class="nav nav-stacked fixed connectbar">
              <li><a href="mailto:datalensdc@gmail.com" target="_blank"> <i class="fa fa-envelope"></i> send an email</a></li>
              <li><a href="https://twitter.com/DataLensDC" target="_blank"><i class="fa fa-twitter"></i> tweet our way</a></li>
              <li><a href="https://github.com/katerabinowitz" target="_blank"><i class="fa fa-github"></i> git at us</a></li>
              <!-- <li><a href="https://www.linkedin.com/pub/kate-rabinowitz/3b/b30/168" target="_blank"><i class="fa fa-linkedin"></i> link up</a></li> -->
          </ul></ul>
      </ul>
    </div>    
</div>
</body>
</html>