<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1" charset="utf-8">
  <title>How DC Spends</title>

  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link href='http://fonts.googleapis.com/css?family=Neuton:400,700' rel='stylesheet' type='text/css'>

  <link href='./CSS/main.css' rel='stylesheet' type='text/css'>
  <link href='./CSS/CEX.css' rel='stylesheet' type='text/css'>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
  <script src="http://d3js.org/d3.v3.min.js"></script> 
  <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-65753381-1', 'auto');
  ga('send', 'pageview');

</script>
</head>

<body>
<nav class="xsheader navbar navbar-default navbar-static-top">
  <div class='clearfix xsheader'>      
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="mybar icon-bar"></span>
          <span class="mybar icon-bar"></span>
          <span class="mybar icon-bar"></span> 
        </button>
        <a class="navbar-brand" href="./index.html">
          <img src="./Images/DataLensDCResponsiveLogo2.png" alt="DataLensDC">  
        </a>
      <ul class="navbar-nav navbar-custom navbar-static-top navbar-collapse collapse dropdown-pull-right" id="main-navbar-custom">
        <li><a href="./about.html">About</a></li>
        <li><a href="./subscribe.html">Subscribe</a></li>
        <li><a href="./archive.html">Archive</a></li>
        <li class="dropdown"><a class="dropdown-toggle" href='#' data-toggle='dropdown'>Connect<span class='caret'></span></a>
          <ul class="navbar-custom dropmenu dropdown-menu dropdown-pull-right">
            <li><a href="mailto:datalensdc@gmail.com" target="_blank"> <i class="fa fa-envelope"></i> send an email</a></li>
            <li><a href="https://twitter.com/DataLensDC" target="_blank"><i class="fa fa-twitter"></i> tweet our way</a></li>
            <li><a href="https://github.com/katerabinowitz" target="_blank"><i class="fa fa-github"></i> git at us</a></li>
            <!-- <li><a href="https://www.linkedin.com/pub/kate-rabinowitz/3b/b30/168" target="_blank"><i class="fa fa-linkedin"></i> link up</a></li>  -->     
          </ul>
        </li>
      </ul>
  </div>
</nav>

<nav class="smheader navbar navbar-default navbar-static-top">
<a href="./index.html"><img class="logo" src="./Images/DataLensDC logo.png" alt="DataLensDC"></a>
  <div class="navbar-fixed">
    <ul class ="headerlist">
        <li><a href="./about.html">about</a></li>
        <li><a href="./subscribe.html">subscribe</a></li>
        <li><a href="mailto:datalensdc@gmail.com">email</a></li>
    </ul>
  </div>
</nav>

<div class='content row'>
  <div class='col-sm-9 col-xs-12'>
  <br>
    <h2><a href='./how-DC-spends.html'>Who Moves to DC? Young, Well-Educated Women</a></h2>
    <hr id='top-line'>
    <h3> Kate Rabinowitz // February 22, 2016 </h3>
    <p class="content"> Since 2009 the District's population has surged. More than 1,000 people on average have moved to DC each month, excluding a 2014 dip. The District's growth is part of a larger urban renaissance with many American cities booming. This influx of new residents is reshaping the look and feel of boom cities. In DC change has come in many forms, from <a class="link" target="_blank" href="http://www.washingtonian.com/2015/11/19/hecht-building-ivy-city-photos/">new luxury apartments</a> to <a class="link" target="_blank" href="http://www.washingtonian.com/2015/10/23/dcs-latest-bike-lane-fight-is-not-about-bikes/">contentious bike lanes</a>. So who are DC's new residents, and how do they differ from those moving to other major U.S. cities?<br><br>Check out the interactive chart below to see the demographics of the District's newest residents, and how that compares to other major U.S. cities. Select a button to change the view and hover over a bar to see the exact percentage.</p> 

    <div class="btn-content">
    <input name="updateButton" 
           type="button" 
           value="Marital Status" 
           onclick="MarryData()"/>

    <input name="updateButton" 
           type="button" 
           value="Gender" 
           onclick="genderData()"/>

     <input name="updateButton" 
           type="button" 
           value="Recent Income" 
           onclick="above75Data()"/>

    <input name="updateButton" 
           type="button" 
           value="Education" 
           onclick="eduData()"/>

        <input name="updateButton" 
           type="button" 
           value="Age" 
           onclick="ageData()"/>
    </div>

<div id="citiesBar">
<svg class="cex"></svg>
<script>
var margin = {top: 40, right: 40, bottom: 80, left: 40},
    width = 550 - margin.left - margin.right,
    height =  320;

var x = d3.scale.ordinal()
    .rangeRoundBands([0, width], .05);

var y = d3.scale.linear()
    .range([height, 0]);

var xAxis = d3.svg.axis()
    .scale(x)
    .orient("bottom");

var yAxis = d3.svg.axis()
    .scale(y)
    .outerTickSize(0)
    .orient("left");

var tip = d3.tip()
  .attr('class', 'd3-tip')
  .offset([-10, 0])
  .html(function(d) {
    return d.Age20s + "%";
  })

var cex = d3.select(".cex")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

cex.call(tip);

d3.csv("https://raw.githubusercontent.com/katerabinowitz/DC-Demographics/master/cityMobilityStats.csv", type, function(error, data) {
  data.sort(function(a, b) { return b.Age20s - a.Age20s; });
  x.domain(data.map(function(d) {return d.City; }));
  y.domain([0, d3.max(data, function(d) { return d.Age20s; })]);

  cex.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis)
      .selectAll("text")
      .attr("y", 0)
      .attr("x", 9)
      .attr("dy", ".05em")
      .attr("transform", "rotate(50)")
      .style("text-anchor", "start");;
  cex.append("g")
      .attr("class", "y axis")
      .call(yAxis);

  cex.append("text")
        .attr('class', 'd3title')
        .attr("x", (width / 2))             
        .attr("y", 0 - margin.top/1.5)
        .attr("text-anchor", "middle")  
        .text("Nearly half of the District's New Residents in their 20s");

  cex.append("text")
        .attr('class', 'd3subtitle')
        .attr("x", (width / 2))             
        .attr("y", 0 - (margin.top / 3))
        .attr("text-anchor", "middle")  
        .text("New Residents in their 20's (%)");

  cex.append("text")
    .attr("text-anchor", "end")
    .attr("y", 9)
    .attr("dy", "-4.5em")
    .attr("transform", "rotate(-90)")
        .text("% of New Residents");

  cex.selectAll(".bar")
    .data(data)
    .enter()
    .append("rect")
      .attr("class", "bar")
      .style("fill", function(d, i){return d.City=="Washington"?"orange":"#53CFCF";})
      .attr("x", function(d) { return x(d.City); })
      .attr("y", function(d) { return y(d.Age20s); })
      .attr("height", function(d) { return height - y(d.Age20s); })
      .attr("width", x.rangeBand())
      .on('mouseover', tip.show)
      .on('mouseout', tip.hide)
         
});
function type(d) {
  d.Age20s = +d.Age20s;
  return d;
}
function MarryData() {
     d3.csv("https://raw.githubusercontent.com/katerabinowitz/DC-Demographics/master/cityMobilityStats.csv", function(error, data) {
      data.sort(function(a, b) { return b.married - a.married; });
      x.domain(data.map(function(d) { console.log(d); return d.City; }));
      y.domain([0, d3.max(data, function(d) { return d.married; })]);

      var tip = d3.tip()
        .attr('class', 'd3-tip')
        .offset([-10, 0])
        .html(function(d) {
        return d.married + "%";
        })

    cex.call(tip);
      
    var sel = cex.selectAll("rect")
         .data(data);
    sel.exit().remove();
    d3.select(".y.axis").remove();
    d3.select(".x.axis").remove();
    d3.select(".d3title").remove();
    d3.select(".d3subtitle").remove();
    sel.enter().append("rect")
      sel.attr("class", "bar")
      sel.attr("x", function(d) { return x(d.City); })
      sel.attr("y", function(d) { return y(d.married); })
      sel.attr("height", function(d) { return height - y(d.married); })
      .style("fill", function(d, i){return d.City=="Washington"?"orange":"#53CFCF";})
      .on('mouseover', tip.show)
      .on('mouseout', tip.hide)

    cex.append("g")
      .attr("class", "y axis")
      .call(yAxis);

    cex.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis)
      .selectAll("text")
      .attr("y", 0)
      .attr("x", 9)
      .attr("dy", "0.5em")
      .attr("transform", "rotate(50)")
      .style("text-anchor", "start");;

      cex.append("text")
        .attr('class', 'd3title')
        .attr("x", (width / 2))             
        .attr("y", 0 - (margin.top/1.5))
        .attr("text-anchor", "middle")  
        .attr("font-family", "sans-serif")
        .attr("font-size", "20px")       
        .attr("fill", "gray")
        .text("New Residents to DC Among Least Likely to be Married");

      cex.append("text")
        .attr('class', 'd3subtitle')
        .attr("x", (width / 2))             
        .attr("y", 0 - (margin.top / 3))
        .attr("text-anchor", "middle")  
        .text("New Residents that are Married (%)");

function type(d) {
d.married = +d.married;
return d;}
}
)};

function genderData() {
    d3.csv("https://raw.githubusercontent.com/katerabinowitz/DC-Demographics/master/cityMobilityStats.csv", function(error, data) {
      data.sort(function(a, b) { return b.female - a.female; });
      x.domain(data.map(function(d) { console.log(d); return d.City; }));
      y.domain([30, d3.max(data, function(d) { return d.female; })]);

      var tip = d3.tip()
        .attr('class', 'd3-tip')
        .offset([-10, 0])
        .html(function(d) {
        return d.female + "%";
        })

    cex.call(tip);
      
    var sel = cex.selectAll("rect")
         .data(data);
    sel.exit().remove();
    d3.select(".y.axis").remove();
    d3.select(".x.axis").remove();
    d3.select(".d3title").remove();
    d3.select(".d3subtitle").remove();
    sel.enter().append("rect")
      sel.attr("class", "bar")
      sel.attr("x", function(d) { return x(d.City); })
      sel.attr("y", function(d) { return y(d.female); })
      sel.attr("height", function(d) { return height - y(d.female); })
      .style("fill", function(d, i){return d.City=="Washington"?"orange":"#53CFCF";})
      .on('mouseover', tip.show)
      .on('mouseout', tip.hide)

    cex.append("g")
      .attr("class", "y axis")
      .call(yAxis);

    cex.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis)
      .selectAll("text")
      .attr("y", 0)
      .attr("x", 9)
      .attr("dy", ".05em")
      .attr("transform", "rotate(50)")
      .style("text-anchor", "start");;

      cex.append("text")
        .attr('class', 'd3title')
        .attr("x", (width / 2))             
        .attr("y", 0 - (margin.top/1.5))
        .attr("text-anchor", "middle")  
        .attr("font-family", "sans-serif")
        .attr("font-size", "20px")       
        .attr("fill", "gray")
        .text("DC Attracts the Highest Proportion of Women");

      cex.append("text")
        .attr('class', 'd3subtitle')
        .attr("x", (width / 2))             
        .attr("y", 0 - (margin.top / 3))
        .attr("text-anchor", "middle")  
        .text("New Residents that are Women (%)");

function type(d) {
d.female = +d.female;
return d;}
}
)};

function above75Data() {
    d3.csv("https://raw.githubusercontent.com/katerabinowitz/DC-Demographics/master/cityMobilityStats.csv", function(error, data) {
      data.sort(function(a, b) { return b.above75K - a.above75K; });
      x.domain(data.map(function(d) { console.log(d); return d.City; }));
      y.domain([0, 25]);

    var tip = d3.tip()
        .attr('class', 'd3-tip')
        .offset([-10, 0])
        .html(function(d) {
        return d.above75K + "%";
        })

    cex.call(tip);
      
    var sel = cex.selectAll("rect")
         .data(data);
    sel.exit().remove();
    d3.select(".y.axis").remove();
    d3.select(".x.axis").remove();
    d3.select(".d3title").remove();
    d3.select(".d3subtitle").remove();
    sel.enter().append("rect")
      sel.attr("class", "bar")
      sel.attr("x", function(d) { return x(d.City); })
      sel.attr("y", function(d) { return y(d.above75K); })
      sel.attr("height", function(d) { return height - y(d.above75K); })
      .style("fill", function(d, i){return d.City=="Washington"?"orange":"#53CFCF";})
      .on('mouseover', tip.show)
      .on('mouseout', tip.hide)

    cex.append("g")
      .attr("class", "y axis")
      .call(yAxis);

    cex.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis)
      .selectAll("text")
      .attr("y", 0)
      .attr("x", 9)
      .attr("dy", ".05em")
      .attr("transform", "rotate(50)")
      .style("text-anchor", "start");;

    cex.append("text")
        .attr('class', 'd3title')
        .attr("x", (width / 2))             
        .attr("y", 0 - (margin.top/1.5))
        .attr("text-anchor", "middle")  
        .attr("font-family", "sans-serif")
        .attr("font-size", "20px")       
        .attr("fill", "gray")
        .text("DC Second in Proportion of Wealthy New Residents");

    cex.append("text")
        .attr('class', 'd3subtitle')
        .attr("x", (width / 2))             
        .attr("y", 0 - (margin.top / 3))
        .attr("text-anchor", "middle")  
        .text("New residents with previous year income over $75,000 (%)");

function type(d) {
d.above75K = +d.above75K;
return d;}
}
)};

function eduData() {
    d3.csv("https://raw.githubusercontent.com/katerabinowitz/DC-Demographics/master/cityMobilityStats.csv", function(error, data) {
      data.sort(function(a, b) { return b.BAplus - a.BAplus; });
      x.domain(data.map(function(d) { console.log(d); return d.City; }));
      y.domain([0, d3.max(data, function(d) { return d.BAplus; })]);

    var tip = d3.tip()
        .attr('class', 'd3-tip')
        .offset([-10, 0])
        .html(function(d) {
        return d.BAplus + "%";
        })

    cex.call(tip);
      
    var sel = cex.selectAll("rect")
         .data(data);
    sel.exit().remove();
    d3.select(".y.axis").remove();
    d3.select(".x.axis").remove();
    d3.select(".d3title").remove();
    d3.select(".d3subtitle").remove();
    sel.enter().append("rect")
      sel.attr("class", "bar")
      sel.attr("x", function(d) { return x(d.City); })
      sel.attr("y", function(d) { return y(d.BAplus); })
      sel.attr("height", function(d) { return height - y(d.BAplus); })
      .style("fill", function(d, i){return d.City=="Washington"?"orange":"#53CFCF";})
      .on('mouseover', tip.show)
      .on('mouseout', tip.hide)

    cex.append("g")
      .attr("class", "y axis")
      .call(yAxis);

    cex.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis)
      .selectAll("text")
      .attr("y", 0)
      .attr("x", 9)
      .attr("dy", ".05em")
      .attr("transform", "rotate(50)")
      .style("text-anchor", "start");;

    cex.append("text")
        .attr('class', 'd3title')
        .attr("x", (width / 2))             
        .attr("y", 0 - (margin.top/1.5))
        .attr("text-anchor", "middle")  
        .attr("font-family", "sans-serif")
        .attr("font-size", "20px")       
        .attr("fill", "gray")
        .text("New DC Residents Among the Most Highly Educated");

    cex.append("text")
        .attr('class', 'd3subtitle')
        .attr("x", (width / 2))             
        .attr("y", 0 - (margin.top / 3))
        .attr("text-anchor", "middle")  
        .text("New Residents with at least a Bachelors Degree (%)");

function type(d) {
d.BAplus = +d.BAplus;
return d;}
}
)};

function ageData() {
    d3.csv("https://raw.githubusercontent.com/katerabinowitz/DC-Demographics/master/cityMobilityStats.csv", function(error, data) {
      data.sort(function(a, b) { return b.Age20s - a.Age20s; });
      x.domain(data.map(function(d) { console.log(d); return d.City; }));
      y.domain([0, d3.max(data, function(d) { return d.Age20s; })]);

    var tip = d3.tip()
        .attr('class', 'd3-tip')
        .offset([-10, 0])
        .html(function(d) {
        return d.Age20s + "%";
        })

    cex.call(tip);
      
    var sel = cex.selectAll("rect")
         .data(data);
    sel.exit().remove();
    d3.select(".y.axis").remove();
    d3.select(".x.axis").remove();
    d3.select(".d3title").remove();
    d3.select(".d3subtitle").remove();
    sel.enter().append("rect")
      sel.attr("class", "bar")
      sel.attr("x", function(d) { return x(d.City); })
      sel.attr("y", function(d) { return y(d.Age20s); })
      sel.attr("height", function(d) { return height - y(d.Age20s); })
      .style("fill", function(d, i){return d.City=="Washington"?"orange":"#53CFCF";})
      .on('mouseover', tip.show)
      .on('mouseout', tip.hide)

    cex.append("g")
      .attr("class", "y axis")
      .call(yAxis);

    cex.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis)
      .selectAll("text")
      .attr("y", 0)
      .attr("x", 9)
      .attr("dy", ".05em")
      .attr("transform", "rotate(50)")
      .style("text-anchor", "start");;

  cex.append("text")
        .attr('class', 'd3title')
        .attr("x", (width / 2))             
        .attr("y", 0 - margin.top/1.5)
        .attr("text-anchor", "middle")  
        .text("Nearly half of the District's New Residents in their 20s");

  cex.append("text")
        .attr('class', 'd3subtitle')
        .attr("x", (width / 2))             
        .attr("y", 0 - (margin.top / 3))
        .attr("text-anchor", "middle")  
        .text("New Residents in their 20's (%)");

function type(d) {
  d.Age20s = +d.Age20s;
  return d;}
}
)};
</script>
</div>
  <p class='graph-subtitle'>Source: Census American Community Survey (ACS), 2010-2014.</p>  

  <p class="content">Nearly 53% of new DC residents are women while other cities have more even gender splits or skew male. The District also attracts a young crowd. Nearly half of New Washingtonians are in their 20s, second only to university town Boston. Unlike Boston, new DC residents tend to be wealthier. They have the second highest rate of income over $75,000 in the past year, behind wealthy tech city San Francisco. DC ranks third behind both cities for highly educated newcomers, unsurprising for such a <a class="link" target="_blank" href="http://www.washingtonian.com/2015/10/08/how-the-dc-region-spends-its-money/">city of book worms</a>. With fewer than 20% of new DC residents married, this all makes for an active and interesting dating scene. 
  <br><br>
  <hr id='end-line'>
  <p class='content'><b>Technical notes:</b> Data shown are from the <a class="link" target="_blank" href="https://www.census.gov/programs-surveys/acs/about.html">Census American Community Survey, 2010-2014</a>. You can find complete code for this post<a class='link' target="_blank" href="https://github.com/katerabinowitz"> on my github page.</a></p>
  <br><br> 
</div>

<div class='col-sm-3 side'>
  <ul class="sidebar nav nav-stacked fixed">
    <br>
        <li>Recent</li>
        <ul><ul class="nav nav-stacked fixed insidebar">
            <li><a href='./construction-boom-mapped.html'>Mapped: DC's Construction Boom</a></li>
            <li><a href='./drizly-neighborhood-favorites.html'>DC's Favorite Booze in the App Economy</a></li>
            <li><a href='./DC-region-breweries.html'>DC Region has 70 Breweries, Second Most on East Coast</a><li>
            <li><a href='./has-wmata-bottomed-out.html'>Has Metro Bottomed Out?</a></li>
            <li><a href='./rise-of-biking.html'>The Rise of Biking in DC, Visualized</a></li>
            <li><a href='./airbnb-listings-in-DC.html'>DC #3 in Airbnb Per Capita</a></li>
            <li><a href='./dc-property-flipping.html'>The Most House-Flipped DC Neighborhoods</a></li>
            <li><a href='./how-DC-spends.html'>How the DC Region Spends</a></li>
            <!---<li><a href='./dc-hack-landmark.html'>DC Hack: Landmark</a></li>
            <li><a href='./DDD-in-DC.html'>What's Guy Fieri's Problem with DC?</a></li>
            <li><a href='./gentrification-by-numbers.html'>DC Gentrification by the Numbers</a></li>
            <li><a href='./farmers-mkt-per-capita.html'>DC #1 in Farmer's Markets per Capita</a></li>
            <li><a href='./10-year-dc-development.html'>DC Adding 15M+ Sq Ft in Next 10 Years</a></li>
            <li><a href='./your-commute-is-getting-worse.html'>Your Metro Commute is Getting Worse</a></li>
            <li><a href='./migration-comparison.html'>DC: The East Coast's Most Migratory City</a></li>
            <li><a href='./welcome-to-datalensdc.html'>Welcome to DataLensDC!</a></li> -->
        </ul></ul> 
        <li class="archiveside"><a href="./archive.html"><p style="margin-left:15px">Archive</p></a></li>
        <br>
        <li>Connect</li>  
        <ul><ul class="nav nav-stacked fixed connectbar">
              <li><a href="mailto:datalensdc@gmail.com" target="_blank"> <i class="fa fa-envelope"></i> send an email</a></li>
              <li><a href="https://twitter.com/DataLensDC" target="_blank"><i class="fa fa-twitter"></i> tweet our way</a></li>
              <li><a href="https://github.com/katerabinowitz" target="_blank"><i class="fa fa-github"></i> git at us</a></li>
              <!-- <li><a href="https://www.linkedin.com/pub/kate-rabinowitz/3b/b30/168" target="_blank"><i class="fa fa-linkedin"></i> link up</a></li> -->
          </ul></ul>
      </ul>
    </div>    
</div>
</body>
</html>